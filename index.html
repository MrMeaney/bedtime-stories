<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magical Bedtime Stories</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #4a5568;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .stars {
            font-size: 2em;
            color: #ffd700;
            animation: twinkle 2s ease-in-out infinite alternate;
        }

        @keyframes twinkle {
            0% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .theme-selector {
            margin-bottom: 30px;
            text-align: center;
        }

        .theme-selector h2 {
            color: #4a5568;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .theme-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }

        .theme-btn {
            background: linear-gradient(45deg, #ff6b6b, #ffa726);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .theme-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .theme-btn.animals { background: linear-gradient(45deg, #4ecdc4, #44a08d); }
        .theme-btn.space { background: linear-gradient(45deg, #667eea, #764ba2); }
        .theme-btn.fairy { background: linear-gradient(45deg, #f093fb, #f5576c); }
        .theme-btn.ocean { background: linear-gradient(45deg, #4facfe, #00f2fe); }
        .theme-btn.forest { background: linear-gradient(45deg, #43e97b, #38f9d7); }
        .theme-btn.dragons { background: linear-gradient(45deg, #ff8a80, #ff5722); }

        .generate-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            display: block;
            margin: 20px auto;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .generate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .story-container {
            display: none;
            margin-top: 30px;
        }

        .story-page {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 3px solid #f0f8ff;
        }

        .story-image {
            width: 100%;
            height: 400px;
            border-radius: 15px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5em;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
            background-size: cover;
            background-position: center;
        }

        .story-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
        }

        .story-image .characters {
            position: relative;
            z-index: 2;
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .story-image .background-elements {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: space-around;
            font-size: 2em;
            opacity: 0.3;
            z-index: 1;
        }

        .story-text {
            font-size: 1.3em;
            line-height: 1.6;
            color: #4a5568;
            text-align: center;
        }

        .navigation {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .nav-btn {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 20px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
        }

        .nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .loading {
            text-align: center;
            font-size: 1.5em;
            color: #667eea;
            margin: 20px 0;
        }

        .spinner {
            display: inline-block;
            width: 30px;
            height: 30px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .new-story-btn {
            background: linear-gradient(45deg, #f093fb, #f5576c);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            display: block;
            margin: 20px auto;
            transition: all 0.3s ease;
        }

        .new-story-btn:hover {
            transform: translateY(-2px);
        }

        @media (max-width: 600px) {
            .theme-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .theme-btn {
                width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üåô Magical Bedtime Stories üåô</h1>
            <div class="stars">‚ú® ‚≠ê ‚ú®</div>
            <p style="color: #666; margin-top: 10px;">Choose a theme for tonight's adventure!</p>
        </div>

        <div class="theme-selector" id="themeSelector">
            <h2>What kind of story would you like tonight?</h2>
            <div class="theme-buttons">
                <button class="theme-btn animals" data-theme="animals">üêª Friendly Animals</button>
                <button class="theme-btn space" data-theme="space">üöÄ Space Adventure</button>
                <button class="theme-btn fairy" data-theme="fairy">üßö‚Äç‚ôÄÔ∏è Fairy Tale</button>
                <button class="theme-btn ocean" data-theme="ocean">üê† Ocean Friends</button>
                <button class="theme-btn forest" data-theme="forest">üå≤ Magical Forest</button>
                <button class="theme-btn dragons" data-theme="dragons">üê≤ Friendly Dragons</button>
            </div>
            <button class="generate-btn" id="generateBtn" style="display: none;">Create My Story! ‚ú®</button>
        </div>

        <div class="loading" id="loading" style="display: none;">
            Creating your magical story...<div class="spinner"></div>
        </div>

        <div class="story-container" id="storyContainer">
            <div class="story-page" id="storyPage">
                <div class="story-image" id="storyImage"></div>
                <div class="story-text" id="storyText"></div>
            </div>
            
            <div class="navigation">
                <button class="nav-btn" id="prevBtn" disabled>‚Üê Previous</button>
                <span id="pageIndicator" style="align-self: center; font-weight: bold; color: #667eea;">Page 1 of 5</span>
                <button class="nav-btn" id="nextBtn">Next ‚Üí</button>
            </div>
            
            <button class="new-story-btn" id="newStoryBtn">Create Another Story! üåü</button>
        </div>
    </div>

    <script>
        let selectedTheme = '';
        let currentStory = [];
        let currentPage = 0;

        const stories = {
            animals: [
                {
                    background: "linear-gradient(135deg, #87CEEB 0%, #98FB98 100%)",
                    characters: "üêª",
                    backgroundElements: "üå∏üå∫üåªü¶ãüåø",
                    text: "Once upon a time, in a magical meadow where the grass was as soft as silk and flowers bloomed in every color of the rainbow, there lived a gentle bear named Benny. Benny had the fluffiest brown fur that sparkled in the sunlight and the kindest, warmest heart in the entire forest. Every morning, he would wake up in his cozy cave and stretch his big paws toward the sky, greeting the day with a happy yawn. Benny loved nothing more than helping his forest friends and making everyone around him smile with his cheerful, booming laugh."
                },
                {
                    background: "linear-gradient(135deg, #FFE4B5 0%, #98FB98 100%)",
                    characters: "üêªüê∞",
                    backgroundElements: "üå≥üå∏üçÑü¶ã‚òÄÔ∏è",
                    text: "One particularly sunny morning, when the dew drops on the grass looked like tiny diamonds and the birds were singing their sweetest songs, Benny was taking his usual stroll through the meadow. That's when he spotted Ruby the rabbit sitting under a big oak tree, looking sadder than a rainy day. Her usually perky ears were drooping, and her bright eyes had lost their sparkle. 'Oh my, little Ruby,' said Benny in his gentlest voice, sitting down carefully beside her. 'What's making you feel so blue on this beautiful day? You know I'm always here to help!' Ruby looked up at Benny's kind face and felt a tiny bit better already."
                },
                {
                    background: "linear-gradient(135deg, #E6E6FA 0%, #FFB6C1 100%)",
                    characters: "üê∞üíé",
                    backgroundElements: "‚ú®üåü‚≠êüí´üîÆ",
                    text: "Ruby's whiskers twitched as she sniffled softly. 'Oh Benny, I've lost something very, very special to me. It's my magical carrot - not just any carrot, but one that sparkles like the most beautiful diamond and glows with a warm, golden light!' She explained how the carrot had been a gift from her grandmother, and it helped her hop higher than any other rabbit in the forest. 'Without it, I feel so ordinary,' Ruby whispered. Benny's eyes lit up with determination and kindness. 'Don't you worry for even one more second, dear Ruby! We're going to find that magical carrot together. I promise you that!' His confident smile made Ruby's heart feel lighter."
                },
                {
                    background: "linear-gradient(135deg, #98FB98 0%, #87CEEB 100%)",
                    characters: "üêªüê∞üîç",
                    backgroundElements: "üå≥üçÑüåøü¶âüï∑Ô∏è",
                    text: "And so began the greatest treasure hunt the forest had ever seen! Benny and Ruby searched everywhere their paws could take them. They looked under the spotted mushrooms where the field mice lived, behind the ancient oak trees where squirrels stored their acorns, and even in the babbling brook where the fish liked to play hide and seek. They asked everyone they met - the chattering chipmunks, the busy bees, and even the shy hedgehogs. Finally, they climbed up to visit Ollie the wise old owl, who lived in the tallest tree in the forest. 'Hoo-hoo!' hooted Ollie thoughtfully. 'If it's something truly magical you seek, try looking in the rainbow garden where dreams come true!'"
                },
                {
                    background: "linear-gradient(135deg, #FF69B4 0%, #FFD700 100%)",
                    characters: "üêªüê∞ü•ï",
                    backgroundElements: "üåàüå∏ü¶ã‚ú®üåü",
                    text: "Following Ollie's wise advice, Benny and Ruby hurried to the magical rainbow garden, a secret place where flowers grew in perfect rainbow stripes and butterflies danced like tiny fairies. And there, nestled among the most beautiful roses that smelled sweeter than honey, was Ruby's sparkling carrot, glowing more brilliantly than ever before! 'My magical carrot!' Ruby squealed with joy, hopping so high she nearly touched the clouds. The moment she held it close, she felt all her special powers return. 'Benny, you're the most wonderful friend anyone could ask for!' she said, and as a thank-you, she shared some of the carrot's magic with him. From that day forward, Benny could understand the language of all the forest creatures, and Ruby could hop to the moon and back. They remained the very best of friends forever and ever, and every night they would sit together watching the stars, knowing that friendship was the most magical thing of all. The end! üí§"
                }
            ],
            space: [
                {
                    background: "linear-gradient(135deg, #191970 0%, #4B0082 100%)",
                    characters: "üöÄüë©‚ÄçüöÄ",
                    backgroundElements: "‚≠êüåü‚ú®üí´ü™ê",
                    text: "In the vast, twinkling expanse of space, where stars danced like glitter and planets spun like colorful tops, lived Captain Luna, the bravest and most curious little astronaut in the entire galaxy! Her rocket ship, the 'Starlight Dream,' was painted in shimmering silver with rainbow stripes that sparkled against the cosmic darkness. Luna had completed many amazing space missions, but tonight's adventure was extra special. She was zooming through the star-speckled sky to visit her dear friend Squeaky the Moon Mouse, who lived in the coziest crater on the bright, glowing moon. Luna's heart was full of excitement as she prepared for landing, her space boots ready to bounce on the moon's powdery surface."
                },
                {
                    background: "linear-gradient(135deg, #C0C0C0 0%, #4169E1 100%)",
                    characters: "üë©‚ÄçüöÄüê≠",
                    backgroundElements: "üåôüåçüí´‚≠êüõ∏",
                    text: "With a gentle whoosh and a soft thud, Luna's rocket landed perfectly in Squeaky's crater home. The moon's surface felt bouncy and soft under her space boots, like walking on the world's biggest trampoline! 'Welcome, welcome to my lunar home!' squeaked Squeaky the Moon Mouse, scurrying out from his tiny cheese-shaped house carved right into the crater wall. But Luna noticed immediately that something was terribly wrong. Instead of his usual bright, cheerful smile, Squeaky looked worried and sad. 'Oh Luna,' he sighed, his tiny whiskers drooping, 'I'm so glad you're here! We have the biggest problem in the whole universe. All the stars have lost their magical twinkle! Look up at the sky - it's so dark and gloomy!' Luna gazed upward and gasped. The stars were still there, but they looked dim and sleepy, like nightlights that had forgotten how to shine."
                },
                {
                    background: "linear-gradient(135deg, #2F4F4F 0%, #191970 100%)",
                    characters: "üë©‚ÄçüöÄ‚≠ê",
                    backgroundElements: "üò¢üåëüí§üò¥üåå",
                    text: "Luna put her space-gloved hand gently on Squeaky's tiny paw and looked up at the sad, dim stars scattered across the cosmic sky. They were still beautiful, but they seemed to have forgotten how to sparkle and shine. Some stars even looked like they were trying to hide behind wispy space clouds, feeling too shy and sad to light up the universe. 'This is indeed a very serious problem,' Luna said thoughtfully, her mind already working on a solution. 'But don't you worry for even one shooting star's worth of time, dear Squeaky! I've traveled to countless planets and learned many wonderful secrets of the universe. I know exactly what these sleepy stars need to remember how to twinkle again!' Luna's eyes sparkled with confidence and determination, making Squeaky feel a little bit of hope creeping back into his tiny mouse heart."
                },
                {
                    background: "linear-gradient(135deg, #FF69B4 0%, #9370DB 100%)",
                    characters: "üë©‚ÄçüöÄüéµ",
                    backgroundElements: "üé∂‚ô™‚ô´üåü‚ú®",
                    text: "Luna took a deep breath of her space suit's air and began to sing the most beautiful, magical lullaby she had ever learned during her travels across the galaxy. Her voice was as sweet as stardust and as gentle as a comet's tail. The melody floated through space, carried by the solar winds to every corner of the universe. Her rocket ship, the Starlight Dream, began to play the most wonderful accompaniment - soft cosmic music that sounded like wind chimes made of moonbeams and church bells made of pure starlight. As Luna's lullaby grew stronger and more beautiful, something absolutely magical began to happen. One by one, the stars started to remember their purpose. They began to smile their cosmic smiles, and their inner light grew brighter and warmer. Soon, the entire sky was twinkling more brilliantly than it ever had before!"
                },
                {
                    background: "linear-gradient(135deg, #FFD700 0%, #9370DB 100%)",
                    characters: "üë©‚ÄçüöÄüê≠üåü",
                    backgroundElements: "‚ú®‚≠êüí´üåôüò¥",
                    text: "Squeaky the Moon Mouse clapped his tiny paws together with pure joy, jumping up and down on the bouncy moon surface until he was practically floating! 'Luna, you did it! You saved all the stars in the universe!' he squeaked happily. The stars, now fully awake and twinkling with magical light, began to sing their own gentle lullaby back to Luna and Squeaky - a cosmic symphony that filled the entire galaxy with peace and wonder. 'Thank you, Captain Luna, for reminding us how to shine!' the stars seemed to whisper in their silvery voices. Luna hugged her dear friend Squeaky goodbye, promising to visit again soon. As she climbed back into her rocket ship and prepared for the journey home to Earth, the stars created the most spectacular light show just for her - shooting stars, swirling galaxies, and rainbow nebulas dancing across the cosmic sky. Luna flew home under the most beautiful starry night ever seen, and from that day forward, children everywhere could always count on the stars to twinkle them to sleep. Sweet dreams, little astronauts! üí´"
                }
            ],
            fairy: [
                {
                    background: "linear-gradient(135deg, #FFB6C1 0%, #98FB98 100%)",
                    characters: "üßö‚Äç‚ôÄÔ∏è",
                    backgroundElements: "üå∏üå∫ü¶ãüåø‚ú®",
                    text: "In the most enchanted corner of the world, where morning dew sparkled like tiny diamonds and flowers could giggle when the wind tickled their petals, there lived a magical fairy named Sparkle. She was no bigger than your thumb, with wings that shimmered like soap bubbles in the sunlight - sometimes pink, sometimes blue, sometimes every color of the rainbow all at once! Her dress was woven from the finest spider silk and morning dewdrops, and it tinkled like tiny silver bells whenever she moved. Sparkle's home was inside a giant sunflower that bent down just for her, creating the coziest little fairy house with golden walls and a ceiling decorated with the flower's beautiful seeds. Every morning, she would wake up and sprinkle fairy dust on all the flowers in her garden, helping them grow bigger and more beautiful than anywhere else in the world."
                },
                {
                    background: "linear-gradient(135deg, #E6E6FA 0%, #87CEEB 100%)",
                    characters: "üßö‚Äç‚ôÄÔ∏èü¶ã",
                    backgroundElements: "üå∫üå∏üíßüò¢üåø",
                    text: "One particularly lovely morning, when the sun was painting the sky in shades of pink and gold, Sparkle was flying through her garden checking on all her flower friends. She loved to whisper good morning to each bloom and make sure they had everything they needed to be happy. But as she fluttered near the rose bushes, she heard the saddest sound - someone was crying! Following the soft sobs, Sparkle discovered a beautiful butterfly named Flutter sitting on a lily pad by the garden pond. Flutter's wings, which should have been bright orange and black like a magnificent sunset, looked heavy and gray. 'Oh my dear Flutter,' said Sparkle gently, landing softly beside her new friend. 'Whatever is the matter? Why are those pretty wings of yours not dancing in the sky?' Flutter looked up with tears in her big, dark eyes and sighed the deepest sigh. 'My wings feel so heavy, dear fairy. I used to dance and twirl high above the treetops, but now I can barely lift myself off this lily pad. I miss the feeling of flying free!'"
                },
                {
                    background: "linear-gradient(135deg, #DA70D6 0%, #FFD700 100%)",
                    characters: "üßö‚Äç‚ôÄÔ∏è‚ú®",
                    backgroundElements: "üåüüí´üîÆüå∫‚≠ê",
                    text: "Sparkle's tiny heart filled with love and determination. She had never seen anyone look so sad, and she knew that every creature deserved to feel the joy of being exactly who they were meant to be. 'Flutter, my beautiful friend, I think I know exactly what might help!' Sparkle said with a warm, encouraging smile. She reached into her tiny fairy pouch, which was no bigger than a thimble but somehow held all the magic of the garden. From it, she pulled out the most special fairy dust she had ever created - it sparkled like ground-up rainbows and smelled like happiness itself. Hovering gently above Flutter, Sparkle began to sprinkle the magical dust while chanting in the ancient fairy language: 'Flutter's wings, be light as dreams, dance on gentle rainbow beams! Let your spirit soar up high, painting pictures in the sky!' The fairy dust swirled around Flutter like a tiny tornado made of pure magic and love."
                },
                {
                    background: "linear-gradient(135deg, #FF1493 0%, #00CED1 100%)",
                    characters: "ü¶ãüåà",
                    backgroundElements: "‚ú®üíÉüéâüåüüé≠",
                    text: "The moment Sparkle's magical fairy dust touched Flutter's wings, the most amazing transformation began! Flutter's wings started to shimmer and change colors - first orange, then red, then yellow, green, blue, indigo, and violet! They became lighter than air itself, like they were made of pure sunlight and happiness. 'I can feel it!' Flutter cried with joy. 'My wings feel like they're made of cloud wisps and rainbow mist!' She began to flutter, then fly, then soar higher and higher into the sky! Flutter spun and twirled and danced through the air, creating the most beautiful aerial ballet anyone had ever seen. She could loop-de-loop around the tallest trees, race with the wind, and even write her name in the clouds with her colorful wing trails. All the other garden creatures - the bees, the ladybugs, the dragonflies, and even the earthworms poking their heads up from the soil - stopped what they were doing to watch Flutter's magnificent sky dance!"
                },
                {
                    background: "linear-gradient(135deg, #4169E1 0%, #9370DB 100%)",
                    characters: "üßö‚Äç‚ôÄÔ∏èü¶ãüåô",
                    backgroundElements: "‚≠ê‚ú®üí§üò¥üå∏",
                    text: "As the day gently turned to evening and the first stars began to twinkle in the darkening sky, Flutter gracefully glided down to where Sparkle was waiting in the garden. 'My dearest fairy friend,' Flutter whispered, her voice filled with gratitude and wonder, 'you've given me back the greatest gift of all - the ability to be truly myself! I will never, ever forget your kindness.' The two friends spent the rest of the evening dancing together - Sparkle twinkling through the air with her gossamer wings, and Flutter painting rainbow trails across the twilight sky. When the moon rose full and bright, casting silver light across the garden, they found the softest, most fragrant flower petals and made themselves a cozy bed. As they curled up together under a blanket of rose petals that smelled like sweet dreams, Flutter sang a gentle butterfly lullaby while Sparkle hummed a fairy tune. Soon, all the flowers in the garden began to close their petals for the night, and the two friends drifted off to sleep, dreaming of tomorrow's magical adventures. And if you listen very carefully on quiet nights, you might still hear their happy laughter dancing on the evening breeze. Goodnight, little dreamers! üåô"
                }
            ],
            ocean: [
                {
                    background: "linear-gradient(135deg, #00CED1 0%, #1E90FF 100%)",
                    characters: "üê†",
                    backgroundElements: "üåäüêöü™∏üåøüíé",
                    text: "Far beneath the sparkling waves of the deepest, bluest ocean, where sunbeams danced through the water like golden ribbons and coral reefs bloomed in every color imaginable, lived a little fish named Splash. Splash was the most extraordinary fish in all the seven seas - his scales shimmered like precious jewels, changing from emerald green to sapphire blue to ruby red depending on how the light caught them. He lived in a cozy coral cave decorated with the most beautiful seashells, smooth sea glass, and pearls that glowed softly in the ocean's gentle current. Every morning, Splash would swim out of his cave and explore the magnificent underwater world, always eager to discover new wonders and make friends with all the amazing creatures who called the ocean home."
                },
                {
                    background: "linear-gradient(135deg, #9370DB 0%, #20B2AA 100%)",
                    characters: "üê†üêô",
                    backgroundElements: "üíéüåä‚ú®ü™∏üêö",
                    text: "On this particular morning, when the ocean was especially calm and peaceful, Splash was swimming through his favorite part of the coral reef when he spotted something absolutely amazing! There, near a cluster of purple sea anemones that swayed gently in the current, was Ollie the octopus, and he was doing the most incredible trick Splash had ever seen. Ollie was juggling not one, not two, but eight shiny pearls with his eight graceful arms! Each pearl caught the filtered sunlight and sparkled like a tiny star. 'Wow!' exclaimed Splash, swimming closer with his eyes wide with wonder. 'Ollie, that's the most amazing thing I've ever seen! You're like a magical underwater circus performer! How do you do it? Could you possibly teach me some of your incredible tricks?' Ollie's big, kind eyes twinkled with delight at Splash's enthusiasm, and all eight of his arms wiggled happily."
                },
                {
                    background: "linear-gradient(135deg, #32CD32 0%, #00CED1 100%)",
                    characters: "üêôüê¢üéµ",
                    backgroundElements: "üåäüêöüåø‚ô´üé∂",
                    text: "'Of course, my young friend!' Ollie replied with the warmest smile, his arms still gracefully keeping all the pearls spinning in perfect rhythm. 'I'd be delighted to teach you everything I know about underwater acrobatics!' Just as Ollie was about to begin Splash's first lesson, they heard the most beautiful, melodious sound floating through the water. It was Shelly the sea turtle, swimming slowly and majestically toward them while humming the most peaceful ocean song anyone had ever heard. Her ancient shell was covered in colorful algae that looked like a living rainbow, and her wise, gentle eyes sparkled with years of ocean wisdom. 'Good morning, my dear friends,' Shelly said in her calm, soothing voice. 'I couldn't help but notice your wonderful juggling show, Ollie! It reminds me of the grand underwater parades we used to have when I was just a young turtle. Would you two like to help me start a new parade today? We could invite all our ocean friends to join us!'"
                },
                {
                    background: "linear-gradient(135deg, #FF69B4 0%, #00FA9A 100%)",
                    characters: "üê†üêôüê¢üéâ",
                    backgroundElements: "üåäüêöü¶Äüêüüåü",
                    text: "What a wonderful idea! Splash, Ollie, and Shelly decided to create the most spectacular underwater parade the ocean had ever seen! Word spread quickly through the coral reef, carried by the chattering dolphins and the gossiping sea gulls who dove down to pass along the exciting news. Soon, creatures from every corner of the ocean began to arrive. There were dancing seahorses who spun and twirled like underwater ballerinas, singing whales whose songs could be heard for miles, colorful clownfish who told the funniest jokes, graceful manta rays who glided through the water like flying carpets, and even some shy deep-sea creatures who rarely ventured up to the reef. Ollie juggled his pearls while swimming, Shelly led the parade with her ancient wisdom and beautiful songs, and Splash darted back and forth, making sure everyone felt included and welcome. The parade wound through coral gardens, past underwater mountains, and around mysterious ship

        // Theme selection
        document.querySelectorAll('.theme-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                // Remove active class from all buttons
                document.querySelectorAll('.theme-btn').forEach(b => b.classList.remove('active'));
                
                // Add active class and store theme
                btn.classList.add('active');
                selectedTheme = btn.dataset.theme;
                
                // Show generate button
                document.getElementById('generateBtn').style.display = 'block';
            });
        });

        // Generate story
        document.getElementById('generateBtn').addEventListener('click', () => {
            if (!selectedTheme) return;
            
            // Show loading
            document.getElementById('themeSelector').style.display = 'none';
            document.getElementById('loading').style.display = 'block';
            
            // Simulate loading time
            setTimeout(() => {
                generateStory();
            }, 2000);
        });

        function generateStory() {
            currentStory = stories[selectedTheme];
            currentPage = 0;
            
            // Hide loading, show story
            document.getElementById('loading').style.display = 'none';
            document.getElementById('storyContainer').style.display = 'block';
            
            displayCurrentPage();
        }

        function displayCurrentPage() {
            const page = currentStory[currentPage];
            document.getElementById('storyImage').textContent = page.image;
            document.getElementById('storyText').textContent = page.text;
            
            // Update navigation
            document.getElementById('prevBtn').disabled = currentPage === 0;
            document.getElementById('nextBtn').disabled = currentPage === currentStory.length - 1;
            document.getElementById('pageIndicator').textContent = `Page ${currentPage + 1} of ${currentStory.length}`;
        }

        // Navigation
        document.getElementById('prevBtn').addEventListener('click', () => {
            if (currentPage > 0) {
                currentPage--;
                displayCurrentPage();
            }
        });

        document.getElementById('nextBtn').addEventListener('click', () => {
            if (currentPage < currentStory.length - 1) {
                currentPage++;
                displayCurrentPage();
            }
        });

        // New story
        document.getElementById('newStoryBtn').addEventListener('click', () => {
            // Reset everything
            selectedTheme = '';
            currentStory = [];
            currentPage = 0;
            
            // Show theme selector again
            document.getElementById('storyContainer').style.display = 'none';
            document.getElementById('themeSelector').style.display = 'block';
            document.getElementById('generateBtn').style.display = 'none';
            
            // Remove active class from theme buttons
            document.querySelectorAll('.theme-btn').forEach(b => b.classList.remove('active'));
        });

        // Add CSS for active theme button
        const style = document.createElement('style');
        style.textContent = `
            .theme-btn.active {
                transform: translateY(-3px);
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
                border: 3px solid #fff;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
